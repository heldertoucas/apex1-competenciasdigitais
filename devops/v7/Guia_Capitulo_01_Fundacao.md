# Manual de Implementação - Capítulo 1: Fundação do Sistema
**Aplicação:** Academia Digital  
**Versão do Guia:** 1.0  
**Objetivo:** Configurar o ambiente APEX e implementar as fundações de dados (Tabelas de Domínio/Lookups).

---

## 1. Configuração Inicial do Ambiente

Antes de escrevermos código, vamos garantir que o "terreno" está preparado para o projeto.

### 1.1. Configurar Preferências do Workspace
1.  **Login:** Aceda ao seu Workspace Oracle APEX.
2.  **Menu de Administração:** No canto superior direito, clique no ícone do boneco (Conta) e selecione **Manage Services**.
    *   *Nota:* Se não tiver acesso, tente clicar em **Administration** na barra superior (disponível apenas para Admins). Se for apenas *Developer*, salte para o passo 3.
3.  **Definir Timezone e Formatos:**
    *   Clique no seu nome de utilizador (canto superior direito) > **Edit Profile**.
    *   **Default Date Format:** Escreva `DD-MM-YYYY`.
    *   **Default Timestamp Time Zone:** Selecione `Europe/Lisbon`.
    *   Clique em **Apply Changes**.

---

## 2. Criação da Aplicação Base

Vamos criar o "esqueleto" da aplicação. Nesta fase, ela estará vazia, servindo de contentor para tudo o que faremos a seguir.

### 2.1. Iniciar o Wizard
1.  **Aceda ao App Builder:** Na página inicial (Launchpad), clique no ícone grande **App Builder**.
2.  **Criar Nova App:** Clique no botão azul **Create**.
3.  **Tipo de App:** Selecione a opção **New Application**.

### 2.2. Definir Parâmetros Principais
No ecrã de configuração da nova aplicação ("Create an Application"):
1.  **Name:** Escreva `Academia Digital`.
2.  **Appearance:**
    *   Verifique se o tema é **Vita** (ou *Redwood Light* nas versões mais recentes).
    *   Clique no ícone de "Settings" ao lado de Appearance.
    *   **Navigation:** Escolha **Side Menu**.
    *   **App Icon:** Escolha um ícone (ex: `fa-graduation-cap`) e uma cor (ex: azul escuro).
    *   Clique **Save Changes**.
3.  **Pages:** Não adicione páginas extra por agora (apenas *Home*, *Login* e *Administration* devem aparecer por defeito).
4.  **Features:** Marque as seguintes caixas para ativar funcionalidades nativas:
    *   [x] **Install PWA** (Progressive Web App - para instalar no telemóvel).
    *   [x] **Access Control** (Gestão de utilizadores).
    *   [x] **Theme Style Selection** (Para o utilizador poder mudar cores).
5.  **Finalizar:** Clique no botão azul **Create Application** no fundo da página.
    *   *Aguarde:* O sistema irá gerar a aplicação e redirecioná-lo para a "Page Designer" ou "Application Home".

---

## 3. Implementação do Domínio de Dados (SQL)

Agora, vamos criar as tabelas "satélite" (Lookups) que alimentam as listas de seleção do sistema (ex: Géneros, Tipos de Documento).

### 3.1. Aceder ao SQL Workshop
1.  Na barra de topo do APEX, clique em **SQL Workshop**.
2.  Selecione **SQL Scripts**.

### 3.2. Criar o Script de Tabelas (DDL)
1.  Clique no botão **Create**.
2.  **Script Name:** Escreva `01_Dominios_Lookups`.
3.  **Script Editor:** Copie e cole **integralmente** o seguinte código SQL na área de texto:

```sql
-- TABELAS DE DOMÍNIO (SGUF v7.0)
-- Finalidade: Normalização de dados e listas de valores

-- 1. Tipos de Área de Competência
CREATE TABLE Tipos_Area_Competencia (
    ID_Area_Competencia NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL,
    Ordem NUMBER,
    Ativo CHAR(1) DEFAULT 'S' CHECK (Ativo IN ('S','N'))
);

-- 2. Tipos de Nível de Proficiência
CREATE TABLE Tipos_Nivel_Proficiencia (
    ID_Nivel_Proficiencia NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL,
    Ordem NUMBER
);

-- 3. Tipos de Estado do Curso
CREATE TABLE Tipos_Estado_Curso (
    ID_Estado_Curso NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL
);

-- 4. Tipos de Género
CREATE TABLE Tipos_Genero (
    ID_Genero NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(20) NOT NULL UNIQUE,
    Descricao VARCHAR2(100) NOT NULL
);

-- 5. Tipos de Documento de Identificação
CREATE TABLE Tipos_Doc_Identificacao (
    ID_Tipo_Doc NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(20) NOT NULL UNIQUE,
    Descricao VARCHAR2(100) NOT NULL
);

-- 6. Tipos de Situação Profissional
CREATE TABLE Tipos_Situacao_Profissional (
    ID_Situacao_Prof NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL
);

-- 7. Tipos de Qualificação
CREATE TABLE Tipos_De_Qualificacao (
    ID_Qualificacao NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL,
    Ordem NUMBER
);

-- 8. Tipos de Estado da Turma
CREATE TABLE Tipos_Estado_Turma (
    ID_Estado_Turma NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL
);

-- 9. Tipos de Estado da Matrícula
CREATE TABLE Tipos_Estado_Matricula (
    ID_Estado_Matricula NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL
);

-- 10. Tipos de Estado de Presença
CREATE TABLE Tipos_Estado_Presenca (
    ID_Estado_Presenca NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(20) NOT NULL UNIQUE,
    Descricao VARCHAR2(100) NOT NULL,
    Considera_Presenca CHAR(1) DEFAULT 'N' CHECK (Considera_Presenca IN ('S','N'))
);

-- 11. Tipos de Nível de Experiência
CREATE TABLE Tipos_Nivel_Experiencia (
    ID_Nivel_Experiencia NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL
);

-- 12. Tipos de Equipamento
CREATE TABLE Tipos_Equipamento (
    ID_Tipo_Equipamento NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL
);

-- 13. Tipos de Plano DDF
CREATE TABLE Tipos_Plano_DDF (
    ID_Tipo_Plano NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL
);

-- 14. Tipos de Documento de Dossier
CREATE TABLE Tipos_Documento_Dossier (
    ID_Tipo_Doc NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL,
    Obrigatorio CHAR(1) DEFAULT 'N' CHECK (Obrigatorio IN ('S','N'))
);

-- 15. Tipos de Notificação
CREATE TABLE Tipos_Notificacao (
    ID_Tipo_Notificacao NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(20) NOT NULL UNIQUE,
    Descricao VARCHAR2(200) NOT NULL
);

-- 16. Locais (Locais)
CREATE TABLE Locais (
    ID_Local NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    Codigo VARCHAR2(50) UNIQUE,
    Nome VARCHAR2(200) NOT NULL,
    Morada VARCHAR2(500),
    Capacidade NUMBER,
    Ativo CHAR(1) DEFAULT 'S' CHECK (Ativo IN ('S','N'))
);
```

4.  **Guardar e Executar:**
    *   Clique no botão **Create** (ou Save) no topo.
    *   No ecrã de listagem, clique no botão "Play" (Run) ao lado do script `01_Dominios_Lookups`.
    *   Confirme clicando em **Run Now**.
    *   **Verificação:** O APEX deve mostrar "Statements Processed: 16" e "Successful". Se houver erros, verifique se copiou todo o código.

### 3.3. Inserir Dados de Exemplo (Seed Data)
Vamos popular estas tabelas para que os menus drop-down não apareçam vazios.

1.  Volte a **SQL Scripts** e clique **Create**.
2.  **Script Name:** Escreva `02_Dominios_Dados`.
3.  **Código:** Copie e cole:

```sql
-- DADOS DE EXEMPLO (SEED DATA)

-- Géneros
INSERT INTO Tipos_Genero (Codigo, Descricao) VALUES ('M', 'Masculino');
INSERT INTO Tipos_Genero (Codigo, Descricao) VALUES ('F', 'Feminino');
INSERT INTO Tipos_Genero (Codigo, Descricao) VALUES ('OUTRO', 'Outro / Prefiro não dizer');

-- Documentos ID
INSERT INTO Tipos_Doc_Identificacao (Codigo, Descricao) VALUES ('CC', 'Cartão de Cidadão');
INSERT INTO Tipos_Doc_Identificacao (Codigo, Descricao) VALUES ('PASS', 'Passaporte');
INSERT INTO Tipos_Doc_Identificacao (Codigo, Descricao) VALUES ('AR', 'Autorização de Residência');

-- Qualificações
INSERT INTO Tipos_De_Qualificacao (Codigo, Descricao, Ordem) VALUES ('EB1', '1º Ciclo (4º Ano)', 1);
INSERT INTO Tipos_De_Qualificacao (Codigo, Descricao, Ordem) VALUES ('EB23', '2º/3º Ciclo (9º Ano)', 2);
INSERT INTO Tipos_De_Qualificacao (Codigo, Descricao, Ordem) VALUES ('SEC', 'Secundário (12º Ano)', 3);
INSERT INTO Tipos_De_Qualificacao (Codigo, Descricao, Ordem) VALUES ('LIC', 'Licenciatura', 4);
INSERT INTO Tipos_De_Qualificacao (Codigo, Descricao, Ordem) VALUES ('MST', 'Mestrado', 5);

-- Situação Profissional
INSERT INTO Tipos_Situacao_Profissional (Codigo, Descricao) VALUES ('EMP_CONTRA', 'Empregado por Conta de Outrem');
INSERT INTO Tipos_Situacao_Profissional (Codigo, Descricao) VALUES ('EMP_PROPRIA', 'Empregado por Conta Própria');
INSERT INTO Tipos_Situacao_Profissional (Codigo, Descricao) VALUES ('DESEMP', 'Desempregado');
INSERT INTO Tipos_Situacao_Profissional (Codigo, Descricao) VALUES ('ESTUDANTE', 'Estudante');

-- Estados Turma
INSERT INTO Tipos_Estado_Turma (Codigo, Descricao) VALUES ('PLANEADA', 'Planeada (Em Rascunho)');
INSERT INTO Tipos_Estado_Turma (Codigo, Descricao) VALUES ('CONFIRMADA', 'Confirmada (Inscrições Abertas)');
INSERT INTO Tipos_Estado_Turma (Codigo, Descricao) VALUES ('DECORRER', 'A Decorrer');
INSERT INTO Tipos_Estado_Turma (Codigo, Descricao) VALUES ('TERMINADA', 'Terminada');
INSERT INTO Tipos_Estado_Turma (Codigo, Descricao) VALUES ('CANCELADA', 'Cancelada');

-- Estados Matrícula
INSERT INTO Tipos_Estado_Matricula (Codigo, Descricao) VALUES ('INSCRITO', 'Inscrito (A aguardar colocação)');
INSERT INTO Tipos_Estado_Matricula (Codigo, Descricao) VALUES ('MATRICULADO', 'Matriculado (Confirmado)');
INSERT INTO Tipos_Estado_Matricula (Codigo, Descricao) VALUES ('CONCLUIDO', 'Concluído com Sucesso');
INSERT INTO Tipos_Estado_Matricula (Codigo, Descricao) VALUES ('INCOMPLETO', 'Incompleto / Reprovado');
INSERT INTO Tipos_Estado_Matricula (Codigo, Descricao) VALUES ('DESISTENCIA', 'Desistência');

-- Locais (Exemplo)
INSERT INTO Locais (Codigo, Nome, Morada) VALUES ('HQ_LISBOA', 'Sede - Campo Grande', 'Campo Grande 25, Lisboa');
```

4.  **Executar:** Clique **Run** e depois **Run Now**.

---

**Conclusão do Capítulo 1:**
Parabéns! Tem agora uma aplicação APEX criada ("Academia Digital") e a base de dados preparada com as tabelas fundamentais. No próximo capítulo, vamos criar o registo de pessoas.
